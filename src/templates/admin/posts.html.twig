{% extends "layout.html.twig" %}

{% block body %}
<h1>Gérer les articles</h1>

{% if isAdmin %}
	<a href="/blog/admin/ajouter-un-article" class="btn btn-warning">Ajouter un nouvel article</a>
{% endif %}

<div class="table-responsive">
    <table class="table table-hover">
        <thead>
            <tr>
            <th scope="col" class="col-1">#</th>
            <th scope="col" class="col-1">Id</th>
            <th scope="col" class="col-2">Titre</th>
            <th scope="col" class="col-2">Introduction</th>
            {# <th scope="col" class="col-3">Contenu</th> #}
            <th scope="col" class="col-1">Auteurice</th>
            <th scope="col" class="col-1">Date de création</th>
            <th scope="col" class="col-1">Dernière modification</th>
            </tr>
        </thead>
        <tbody>
            {% for post in posts %}
                <tr>
                    <th scope="row">{{ loop.index }}</th>
                    <td>{{ post.id }}</td>
                    <td>{{ post.title }}</td>
                    <td>{{ post.introduction }}</td>
                    {# <td>{{ post.content }}</td> #}
                    <td>{{ post.getAuthor }}</td>
                    <td>{{ post.createdAt|date("d/m/Y") }}</td>
                    <td>{{ post.updatedAt|date("d/m/Y")|default('') }}</td>
                </tr>
            {% endfor %}
        </tbody>
    </table>
</div>
{% endblock %}