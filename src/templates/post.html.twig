
{% extends "layout.html.twig" %}

{% set pageTitle = 'post du blog' %}

{% block body %}
<div class="news">
    <div class="row">
        <h1>{{ post.title }}</h1>
        <p class="ms-auto"><a href="?action=summary">Retour à la liste des billets</a></p>
    </div>
    <p><strong>{{ post.introduction }}</strong></p>
    <small class="text-body-secondary">Un article de // TODO : AJOUTER NOM // écrit le {{ post.createdAt|date("d/m/Y") }} {% if post.updatedAt|date("d/m/Y") is not null %} mis à jour le {{ post.updatedAt|date("d/m/Y") }}{% endif %}</small>
    <p>{{ post.content }}</p>
</div>
<a href="?action=updatePost&id={{ post.id|json_encode }}">Modifier l'article</a>

<h2 class="h5">Commentaires</h2>

{% include "component/commentForm.html.twig" with { action: 'addComment&id=' ~ post.id|json_encode } %}

    {% for comment in comments %}
    <p><strong>{{ comment.title }}</strong> le {{ comment.createdAt|date("d/m/Y") }}</p>
    <p>{{ comment.content }}</p>
    <a href="?action=updateComment&id={{ comment.id }}">Modifier</a>
    {% endfor %}
    
{% endblock %}
