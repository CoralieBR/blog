
{% extends "layout.html.twig" %}

{% set pageTitle = 'post du blog' %}

{% block body %}
<div class="news">
    <div class="row">
        <h1>{{ post.title }}</h1>
        <p class="ms-auto"><a href="index.php">Retour à la liste des billets</a></p>
    </div>
    <p><strong>{{ post.introduction }}</strong></p>
    <small class="text-body-secondary">Un article de // TODO : AJOUTER NOM // écrit le {{ post.createdAt|date("d/m/Y") }} {% if post.updatedAt|date("d/m/Y") is not null %} mis à jour le {{ post.updatedAt|date("d/m/Y") }}{% endif %}</small>
    <p>{{ post.content }}</p>
</div>

<h2 class="h5">Commentaires</h2>

<form action="index.php?action=addComment&id={{ post.id|json_encode }}" method="post">
    {# Don't remove the placeholders!
    They are needed for the bootstrap floating labels.
    https://getbootstrap.com/docs/5.3/forms/floating-labels/  #}
    <div class="form-floating mb-3">
        <input type="text" class="form-control" id="title" name="title" placeholder="placeholder">
        <label for="title">Titre</label>
    </div>
    <div class="form-floating">
        <textarea class="form-control" id="content" name="content" style="height: 100px" placeholder="placeholder"></textarea>
        <label for="content">Commentaire</label>
    </div>
    <div>
        <input class="btn btn-primary" type="submit" />
    </div>
</form>

    {% for comment in comments %}
    <p><strong>{{ comment.title }}</strong> le {{ comment.createdAt|date("d/m/Y") }}</p>
    <p>{{ comment.content }}</p>
    <a href="?action=comment&id={{ comment.id }}">Modifier</a>
    {% endfor %}
    
{% endblock %}
